# ============================================
# TRAINING PLATFORM - Environment Variables
# ============================================

# Database Configuration (PostgreSQL)
DB_HOST=postgres
DB_PORT=5432
DB_NAME=rasa_chatbot
DB_USER=rasa_user
DB_PASSWORD=rasa_password_2024
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# RASA Configuration
RASA_URL=http://rasa-server:5005
RASA_ACTION_SERVER_URL=http://rasa-action-server:5055

# Redis Configuration (for Celery)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0

# API Backend Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_URL=http://api-server:8000

# Streamlit Frontend Configuration
STREAMLIT_HOST=0.0.0.0
STREAMLIT_PORT=8501
STREAMLIT_SERVER_HEADLESS=true
STREAMLIT_SERVER_ENABLE_CORS=false

# JWT Authentication
SECRET_KEY=CHANGE_THIS_TO_A_RANDOM_SECRET_KEY_IN_PRODUCTION
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=120

# Security
BCRYPT_ROUNDS=12

# Application Settings
APP_NAME=RASA Training Platform
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# File Paths (inside containers)
RASA_DATA_PATH=/rasa_data
RASA_MODELS_PATH=/rasa_models
RASA_CONFIG_PATH=/rasa_data/config.yml
RASA_DOMAIN_PATH=/rasa_data/domain.yml

# Training Configuration
MAX_TRAINING_TIME_MINUTES=30
BACKUP_BEFORE_TRAINING=true
BACKUP_DIR=/backups

# Celery Configuration
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}
CELERY_TASK_TRACK_STARTED=true
CELERY_TASK_TIME_LIMIT=1800

# Email Configuration (for reports - optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@training-platform.com
SMTP_ENABLED=false

# Report Configuration
WEEKLY_REPORT_DAY=monday
WEEKLY_REPORT_HOUR=9
REPORT_OUTPUT_DIR=/reports

# Pagination
DEFAULT_PAGE_SIZE=50
MAX_PAGE_SIZE=1000

# Metrics Refresh Interval (seconds)
METRICS_REFRESH_INTERVAL=300

# Docker Container Names (for docker exec commands)
RASA_SERVER_CONTAINER=rasa_server
RASA_ACTION_SERVER_CONTAINER=rasa_action_server

# Admin User (created on first run)
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@training-platform.com
ADMIN_PASSWORD=CHANGE_THIS_PASSWORD

# CORS Settings
CORS_ORIGINS=http://localhost:8501,http://training-platform:8501
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# Session Configuration
SESSION_TIMEOUT_HOURS=2
